@startuml

title virtual threads

scale 1.0
hide footbox
!pragma teoz true

skinparam monochrome true
skinparam defaultFontName Source Sans Pro
skinparam titleFontSize 15
skinparam titleFontStyle normal
skinparam sequenceMessageAlign left
skinparam participantBackgroundColor #white
skinparam noteBackgroundColor #white
skinparam sequenceGroupBackgroundColor #white

participant "virtual\nthread 1" as VirtualThread1
participant "virtual\nthread 2" as VirtualThread2
participant "carrier\nthread" as CarrierThread
participant "operation\nsystem I/O" as Service

->> VirtualThread1: request 1
activate VirtualThread1
activate CarrierThread
VirtualThread1->>Service
activate Service

->> VirtualThread2: request 2
activate VirtualThread2
VirtualThread2->>Service
activate Service

||80||

Service->>VirtualThread1
deactivate Service
<<- VirtualThread1: response 1
deactivate VirtualThread1

Service->>VirtualThread2
deactivate Service
<<- VirtualThread2: response 2
deactivate CarrierThread
deactivate VirtualThread2

@enduml
